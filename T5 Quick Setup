{"slots":{"0":{"name":"screen","type":{"events":[],"methods":[]}},"1":{"name":"columbite","type":{"events":[],"methods":[]}},"2":{"name":"illmenite","type":{"events":[],"methods":[]}},"3":{"name":"rhodonite","type":{"events":[],"methods":[]}},"4":{"name":"thoramine","type":{"events":[],"methods":[]}},"5":{"name":"vanadinite","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"unit.setTimer(\"Live\",1)","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"0"},{"code":"screen.clear()","filter":{"args":[],"signature":"stop()","slotKey":"-1"},"key":"1"},{"code":"function round(number,decimals)\n    local power = 10^decimals\n    return math.floor((number/1000) * power) / power\nend \n\nfunction oreStatus(percent)\n    if percent <= 25 then return \"<th style=\\\"color: red;\\\">LOW</th>\"\n    elseif percent > 25 and percent < 50 then return \"<th style=\\\"color: orange;\\\">LOW</th>\"\n    else return \"<th style=\\\"color: green;\\\">GOOD</th>\"\n    end \nend\n\nlocal useL = 1 --export: Use 1 for L or 0 for t\nif useL == 1 then\n    unitMeasure = \"KL\"\nelseif useL == 0 then\n    unitMeasure = \"T\"\nend\n\n-- Columbite Variables \nlocal maxColumbite = 10400 --export:This is the maximum mass allowed in container. Update as needed\nlocal weightColumbite = 5.38 --export:\nif useL == 1 then\n    \nelseif useL == 0 then\n    \nend\nlocal massColumbite = round(math.ceil(columbite.getItemsMass()),1)\nlocal percentColumbite = math.ceil(((math.ceil((columbite.getItemsMass()/weightColumbite) - 0.5)/maxColumbite)*100))\nlocal statusColumbite = oreStatus(percentColumbite)\n    \n-- Illmenite Variables\nlocal maxIllmenite = 10400 --export:This is the maximum mass allowed in container. Update as needed\nlocal weightIllmenite = 4.55 --export:\nif useL == 1 then\n    \nelseif useL == 0 then\n    \nend\nlocal massIllmenite = round(math.ceil(illmenite.getItemsMass()),1)\nlocal percentIllmenite = math.ceil(((math.ceil((illmenite.getItemsMass()/weightIllmenite) - 0.5)/maxIllmenite)*100))\nlocal statusIllmenite = oreStatus(percentIllmenite)\n\n-- Rhodonite Variables\nlocal maxRhodonite = 10400 --export:This is the maximum mass allowed in container. Update as needed\nlocal weightRhodonite = 3.76 --export:\nif useL == 1 then\n    \nelseif useL == 0 then\n    \nend\nlocal massRhodonite = round(math.ceil(rhodonite.getItemsMass()),1)\nlocal percentRhodonite = math.ceil(((math.ceil((rhodonite.getItemsMass()/weightRhodonite) - 0.5)/maxRhodonite)*100))\nlocal statusRhodonite = oreStatus(percentRhodonite)\n\n-- Vanadinite Variables\nlocal maxVanadinite = 10400 --export:This is the maximum mass allowed in container. Update as needed\nlocal weightVanadinite = 6.95 --export:\nif useL == 1 then\n    \nelseif useL == 0 then\n    \nend\nlocal massVanadinite = round(math.ceil(vanadinite.getItemsMass()),1)\nlocal percentVanadinite = math.ceil(((math.ceil((vanadinite.getItemsMass()/weightVanadinite) - 0.5)/maxVanadinite)*100))\nlocal statusVanadinite = oreStatus(percentVanadinite)\n\n\nhtml = [[\n<div class=\"bootstrap\">\n<h1 style=\"\n\tfont-size: 8em;\n\">T5 Ore Status</h1>\n<table \nstyle=\"\n\tmargin-top: 10px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\twidth: 80%;\n\tfont-size: 4em;\n\">\n\t</br>\n\t<tr style=\"\n\t\twidth: 100%;\n\t\tmargin-bottom: 30px;\n\t\tbackground-color: blue;\n\t\tcolor: white;\n\t\">\n\t\t<th>Ore</th>\n\t\t<th>Qty</th>\n\t\t<th>Levels</th>\n\t\t<th>Status</th>\n\t<tr>\n\t\t<th>Columbite</th>\n\t\t<th>]]..massColumbite..unitMeasure..[[</th>\n\t\t<th>]]..percentColumbite..[[%</th>\n\t\t]]..statusColumbite..[[\n\t</tr>\n\t<tr>\n\t\t<th>Illmenite</th>\n\t\t<th>]]..massIllmenite..unitMeasure..[[</th>\n\t\t<th>]]..percentIllmenite..[[%</th>\n\t\t]]..statusIllmenite..[[\n\t</tr>\n\t<tr>\n\t\t<th>Rhodonite</th>\n\t\t<th>]]..massRhodonite..unitMeasure..[[</th>\n\t\t<th>]]..percentRhodonite..[[%</th>\n\t\t]]..statusRhodonite..[[\n\t</tr>\t\n\t<tr>\n\t\t<th>Vanadinite</th>\n\t\t<th>]]..massVanadinite..unitMeasure..[[</th>\n\t\t<th>]]..percentVanadinite..[[%</th>\n\t\t]]..statusVanadinite..[[\n\t</tr>\n\n</table>\n</div>\n]]\n\nscreen.setHTML(html)","filter":{"args":[{"value":"Live"}],"signature":"tick(timerId)","slotKey":"-1"},"key":"2"}],"methods":[],"events":[]}
