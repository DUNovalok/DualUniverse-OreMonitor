{"slots":{"0":{"name":"screen","type":{"events":[],"methods":[]}},"1":{"name":"acanthite","type":{"events":[],"methods":[]}},"2":{"name":"garnierite","type":{"events":[],"methods":[]}},"3":{"name":"petalite","type":{"events":[],"methods":[]}},"4":{"name":"pyrite","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"unit.setTimer(\"Live\",1)","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"0"},{"code":"function round(number,decimals)\n    local power = 10^decimals\n    return math.floor((number/1000) * power) / power\nend \n\nfunction oreStatus(percent)\n    if percent <= 25 then return \"<th style=\\\"color: red;\\\">LOW</th>\"\n    elseif percent > 25 and percent < 50 then return \"<th style=\\\"color: orange;\\\">LOW</th>\"\n    else return \"<th style=\\\"color: green;\\\">GOOD</th>\"\n    end \nend\n    \n-- Acanthite Variables \nlocal maxAcanthite = 10400 --export:;This is the maximum mass allowed in container. Update as needed\nlocal weightAcanthite = 7.2 --export:\nlocal massAcanthite = round(math.ceil(acanthite.getItemsMass()),1)\nlocal percentAcanthite = math.ceil(((math.ceil((acanthite.getItemsMass()/weightAcanthite) - 0.5)/maxAcanthite)*100))\nlocal statusAcanthite = oreStatus(percentAcanthite)\n    \n-- Garnierite Variables\nlocal maxGarnierite = 10400 --export:;This is the maximum mass allowed in container. Update as needed\nlocal weightGarnierite = 2.6 --export:\nlocal massGarnierite = round(math.ceil(garnierite.getItemsMass()),1)\nlocal percentGarnierite = math.ceil(((math.ceil((garnierite.getItemsMass()/weightGarnierite) - 0.5)/maxGarnierite)*100))\nlocal statusGarnierite = oreStatus(percentGarnierite)\n\n-- Petalite Variables\nlocal maxPetalite = 10400 --export:;This is the maximum mass allowed in container. Update as needed\nlocal weightPetalite = 2.41 --export:\nlocal massPetalite = round(math.ceil(petalite.getItemsMass()),1)\nlocal percentPetalite = math.ceil(((math.ceil((petalite.getItemsMass()/weightPetalite) - 0.5)/maxPetalite)*100))\nlocal statusPetalite = oreStatus(percentPetalite)\n\n-- Pyrite Variables\nlocal maxPyrite = 10400 --export:;This is the maximum mass allowed in container. Update as needed\nlocal weightPyrite = 5.01 --export:\nlocal massPyrite = round(math.ceil(pyrite.getItemsMass()),1)\nlocal percentPyrite = math.ceil(((math.ceil((pyrite.getItemsMass()/weightPyrite) - 0.5)/maxPyrite)*100))\nlocal statusPyrite = oreStatus(percentPyrite)\n\n\nhtml = [[\n<div class=\"bootstrap\">\n<h1 style=\"\n\tfont-size: 8em;\n\">T3 Ore Status</h1>\n<table \nstyle=\"\n\tmargin-top: 10px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\twidth: 80%;\n\tfont-size: 4em;\n\">\n\t</br>\n\t<tr style=\"\n\t\twidth: 100%;\n\t\tmargin-bottom: 30px;\n\t\tbackground-color: blue;\n\t\tcolor: white;\n\t\">\n\t\t<th>Ore</th>\n\t\t<th>Qty</th>\n\t\t<th>Levels</th>\n\t\t<th>Status</th>\n\t<tr>\n\t\t<th>Acanthite</th>\n\t\t<th>]]..massAcanthite..[[ t</th>\n\t\t<th>]]..percentAcanthite..[[%</th>\n\t\t]]..statusAcanthite..[[\n\t</tr>\n\t<tr>\n\t\t<th>Garnierite</th>\n\t\t<th>]]..massGarnierite..[[ t</th>\n\t\t<th>]]..percentGarnierite..[[%</th>\n\t\t]]..statusGarnierite..[[\n\t</tr>\n\t<tr>\n\t\t<th>Petalite</th>\n\t\t<th>]]..massPetalite..[[ t</th>\n\t\t<th>]]..percentPetalite..[[%</th>\n\t\t]]..statusPetalite..[[\n\t</tr>\n\t<tr>\n\t\t<th>Pyrite</th>\n\t\t<th>]]..massPyrite..[[ t</th>\n\t\t<th>]]..percentPyrite..[[%</th>\n\t\t]]..statusPyrite..[[\n\t</tr>\n\n</table>\n</div>\n]]\n\nscreen.setHTML(html)","filter":{"args":[{"value":"Live"}],"signature":"tick(timerId)","slotKey":"-1"},"key":"1"},{"code":"screen.clear()","filter":{"args":[],"signature":"stop()","slotKey":"-1"},"key":"2"}],"methods":[],"events":[]}
